/* ===== Tipografía & Base ===== */
:root {
  --bg-1: #0b0d13;
  --bg-2: #121529;
  --purple: #a86cff;
  --glow: #c39bff;
  --text: #e9e9f2;
  --muted: #ffffff;
  --accent: #ffd2ff;
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu,
    Cantarell, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 900px at 70% -10%, #1c1f39, transparent 60%),
    radial-gradient(1000px 700px at -10% 80%, #1a1130, transparent 55%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
  overflow-x: hidden;
}

.app { max-width: 980px; margin: 0 auto; padding: 24px 18px 80px; }
.top { text-align: center; }
.top h1 { margin: .2rem 0 .25rem; font-weight: 800; letter-spacing: .4px; }
.top h1 span { filter: drop-shadow(0 0 6px var(--glow)); }
.top .tag { margin: 0; color: var(--muted); font-weight: 400; }

.main { display: grid; gap: 28px; margin-top: 18px; }

/* ===== Tarjeta / bloque de logo ===== */
.logo-card{
  border: 1px solid #ffffff24;
  background: linear-gradient(180deg, #10122599, #0b0d1399);
  width: min(420px, 95vw);
  margin: 8px auto 0;
  padding: 0; /* max área visible */
  border-radius: 22px;
  cursor: pointer;
  box-shadow: 0 10px 30px #00000050, inset 0 0 0 1px #ffffff10;
  display: block;
  transition: transform .2s ease, box-shadow .2s ease;
}
.logo-card:focus-visible{ box-shadow: 0 0 0 3px #ffffff40, 0 10px 30px #00000060; }
.logo-card:hover{ transform: translateY(-2px); }

/* === ESCENARIO EN FORMA DE CORAZÓN === */
.logo-stage{
  width: min(420px, 95vw);
  height: clamp(220px, 38vw, 360px);
  position: relative;

  /* Máscara SVG para recortar hijos con forma de corazón */
  --heart-mask: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>\
    <path d='M50 15 C35 0, 0 12, 0 40 C0 62, 23 77, 50 95 \
             C77 77, 100 62, 100 40 C100 12, 65 0, 50 15 Z' fill=\"black\"/>\
  </svg>");
  -webkit-mask-image: var(--heart-mask);
  mask-image: var(--heart-mask);
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;

  border-radius: 0;       /* ya no usamos esquinas redondeadas */
  overflow: hidden;
  box-shadow: 0 12px 36px rgba(0,0,0,.45); /* sombra externa */
}
.logo-stage .media{
  position: absolute; inset: 0;
  width: 100%; height: 100%;
  object-fit: cover; display: block;
}

/* Bloque del logo que tapa al inicio y se desvanece */
.bts-mask{
  position: absolute; inset: 0;
  pointer-events: none;
  opacity: 1; transition: opacity .6s ease;
  background: linear-gradient(180deg, #2b2148, #1b1430);
  box-shadow: inset 0 0 0 1px #ffffff22, 0 12px 36px #00000080;
  border-radius: 0; /* la máscara ya define la forma */
}
/* ❌ Quitar mitades/ línea central */
.bts-mask::before,
.bts-mask::after{ content: none !important; }

/* Al abrir (clic): la máscara se desvanece */
.logo-card.opened .bts-mask{ opacity: 0; }

/* ===== Mensaje principal ===== */
.message { display:block; text-align:center; padding:8px 6px; }
.message[hidden]{ display:none; }
.message h2 { margin:.3rem 0 .4rem; font-size: clamp(1.5rem, 2.8vw, 2.1rem); }
.message .euphoria{
  background: linear-gradient(90deg, var(--accent), var(--purple), #77a0ff);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 0 22px #a86cff55;
}
.message p { margin:0; color:#e5e3f7cc; }

/* ===== Miembros ===== */
.bias-game { margin-top:10px; }
.bias-game h3 { margin:.2rem 0 .2rem; }
.mini-hint { margin:.1rem 0 .8rem; color:var(--muted); }

.members{
  display:grid; grid-template-columns:repeat(7, minmax(0,1fr));
  gap:10px; list-style:none; padding:0; margin:0 auto; max-width:740px;
}
@media (max-width:720px){
  .members{ grid-template-columns:repeat(4, minmax(0,1fr)); }
}

.pill{
  width:100%; aspect-ratio:1/1; border-radius:16px; border:1px solid #ffffff1c;
  background: linear-gradient(180deg, #1a1730, #141229);
  color:var(--text); font-weight:700; letter-spacing:.2px;
  display:grid; place-items:center; text-transform:uppercase;
  cursor:pointer; outline:none;
  box-shadow: inset 0 0 0 1px #ffffff0e, 0 8px 16px #00000060;
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
  overflow:hidden; padding:0; position:relative;
}
button.pill img{
  width:100%; height:100%; object-fit:cover; border-radius:16px; display:block;
}
.pill:hover{ transform: translateY(-1px); }
.pill:focus-visible{ box-shadow: 0 0 0 3px #ffffff40; }
.pill:active{ transform: translateY(0) scale(.98); }
.pill::after{
  content:""; position:absolute; inset:-1px; border-radius:16px;
  background: conic-gradient(from 0deg, transparent 0 300deg, #a86cff 330deg, transparent 360deg);
  filter: blur(10px); opacity:.42; z-index:-1; transition: opacity .3s ease;
}
.pill:hover::after{ opacity:.8; }

.bias-result{
  min-height:44px; margin-top:10px; font-weight:600; text-align:center;
  color:#efe4ff; filter:drop-shadow(0 1px 0 #000);
}

/* ===== Footer ===== */
.foot{ margin-top:12px; color:var(--muted); text-align:center; }
.foot code{ color:#d8cafb; }

/* Respeto a usuarios con poco movimiento */
@media (prefers-reduced-motion: reduce){
  .logo-card, .pill{ transition: none !important; }
}

/* Suavizado del cambio de fondo */
body{ transition: background 300ms ease, background-color 300ms ease; }

/* ===== Imagen de fondo global (debajo del contenido) ===== */
body {
  position: relative; /* para stacking context */
}

/* La foto va sobre el color y debajo de todo lo demás */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;                         /* debajo del contenido (.app) */
  background-image: var(--bg-photo-url, none);
  background-size: var(--bg-photo-size, absolute);
  background-position: center;
  background-repeat: no-repeat;

  /* Toque estético para que no distraiga */
  filter: saturate(1.05) contrast(1.02) brightness(0.98) blur(0px);
  opacity: var(--bg-photo-opacity, 0.26);  /* controla cuánto se ve */
  transition: opacity .45s ease, filter .45s ease;
}

/* Asegura que el contenido quede por encima de la foto */
.app { position: relative; z-index: 1; }

/* El canvas de corazones ya usa z-index alto (999), no hay que tocarlo */
